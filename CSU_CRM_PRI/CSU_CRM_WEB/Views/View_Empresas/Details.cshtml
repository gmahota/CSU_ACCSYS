@model CSU_CRM_WEB.Models.View_Empresas

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2> </h2>

<!-- Page Heading -->
<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">
            Lista de Clientes da @Html.DisplayFor(model => model.IDNome) <small>Com Pendentes</small>
        </h1>
        <ol class="breadcrumb">
            <li class="active">
                <i class="fa fa-dashboard"></i> Dashboard
            </li>
        </ol>
    </div>
</div>
<!-- /.row -->

<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title"><i class="fa fa-bar-chart-o fa-fw"></i> Grafico de Pendentes</h3>
            </div>
            <div class="panel-body">
                @*<div id="morris-area-chart"></div>*@
                <div id="chartPendentes"></div>
            </div>
        </div>
    </div>
</div>

<p>
    @{
        Html.RenderAction("Lista_Empresas_Pendentes", "View_Lista_Contactos_Pendentes", new { empresa = Model.Codigo, conexaoPriempre = ViewBag.ConexaoPri });
    }
</p>

@section Scripts {

    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/Morris_Charts")

    <script type="text/javascript">
        $(window).bind("load", function () {
            

            $.get('@Url.Action("Pendentes", "View_Empresas", new { empresa  = Model.Codigo })', function (result) {

                Morris.Area({
                    element: 'chartPendentes',
                    data: result,
                    // The name of the data record attribute that contains x-values.
                    //xkey: 'data',
                    //// A list of names of data record attributes that contain y-values.
                    //ykeys: ['Value'],
                    //// Labels for the ykeys -- will be displayed when you hover over the
                    //// chart.
                    //labels: ['Value']

                    xkey: 'data',
                    ykeys: ['valor'],
                    labels: ['valor'],
                    //ykeys: ['empresa', 'valor', 'cliente'],
                    //labels: ['empresa', 'valor', 'cliente'],
                    pointSize: 2,
                    hideHover: 'auto',
                    resize: true
                });
            });
        });
    </script>

    
    
}
    
